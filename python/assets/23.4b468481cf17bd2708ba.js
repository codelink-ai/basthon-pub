"use strict";(self.webpackChunk_basthon_basthon_console=self.webpackChunk_basthon_basthon_console||[]).push([[23],{9023:(t,e,s)=>{s.r(e),s.d(e,{KernelSQL:()=>n});var a=s(7867);class n extends a.H{constructor(t){super(t),this.execution_count=0,this._sqlJsBase="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.5.0/",this._dbInit=void 0,this._sqlsInit=[]}language(){return"sql"}languageName(){return"SQL"}moduleExts(){return["sql","db","sqlite"]}async launch(){this.SQL=await async function(t){const e=await fetch(t("sql-wasm.min.js")),s=await e.text(),a={};return new Function("exports",s)(a),a.Module({locateFile:t})}((t=>`${this._sqlJsBase}${t}`)),this.restart()}static troncate_table(t){if(t.values.length>=150){const e=Math.floor(50),s=t.values.slice(0,e),a=t.values.slice(-e);t.values=s.concat([t.columns.map((()=>"â‹® "))],a)}}static html_table(t){return this.troncate_table(t),`<table class="dataframe" border="1"><thead><tr style="text-align: right;">${t.columns.map((t=>`<th>${t}</th>`)).join("")}</tr></thead><tbody>${t.values.map((t=>"<tr>"+t.map((t=>`<td>${t}</td>`)).join("")+"</tr>")).join("")}</tbody></table>`}static text_table(t){return n.troncate_table(t),`${t.columns.join("\t")}\n${t.values.map((t=>t.join("\t"))).join("\n")}`}async evalAsync(t,e,s,a=null){let i;if(a.interactive=!0,this.execution_count++,".export"===t.trim())this.download(this.db.export(),"database.db");else{const e=this.db.exec(t);null!=e&&(i=0==e.length?void 0:{"text/plain":n.text_table(e[0]),"text/html":n.html_table(e[0])})}return[i,this.execution_count]}ps1(){return"sql> "}ps2(){return"...> "}restart(){this.db&&this.db.close(),this.execution_count=0,this.db=new this.SQL.Database(this._dbInit),this.db.run("PRAGMA foreign_keys = ON;"),this._sqlsInit.forEach((t=>{this.db.run(t)}))}more(t){return!1}complete(t){return[]}putFile(t,e){}putModule(t,e){switch(e=new Uint8Array(e),t.split(".").pop()){case"sql":const t=new TextDecoder("utf-8").decode(e);this.db.run(t),this._sqlsInit.push(t);break;case"sqlite":case"db":this.db&&this.db.close(),this.db=new this.SQL.Database(e),this._dbInit=e;break;default:throw{message:"Only '.sql', '.db' and '.sqlite' files supported."}}}}}}]);
//# sourceMappingURL=23.4b468481cf17bd2708ba.js.map